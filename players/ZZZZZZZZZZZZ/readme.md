# 如何手工来解“小Z的谜题”？ #

**WARNING:**

**这是一份饱含各种failed trial的题解。本题解记录了我手工试验Hackergame 2023“小Z的谜题”一题答案的过程。我本人不是很懂算法，以下的内容全部都是手算结果。**

**我这个题解可能没有code但是它能反映一些idea，也许对于你们有帮助。**

*** Notation: 相同的数字代表相同的物体。我们用5 \* 5的方格来表示从上到下每一层的截面。 ***

## 如何手工找出一个解？ ##
这个我相信对于很多人来说有点困难。但是通过试验也可以得到一些解。当然如果你运气不好你可能也得不到。

当然你需要先试验一些结构，我们注意到一些小的方块可以合并为一个大的方块，因此我们可以先去放置一些更大的方块，减小我们的工作量。

我首先考虑的结构是在底层上先去放置一个4 \* 4 \* 1的底板。因为总有这样的板子有两块所以有一块必须在整个图形的外侧（否则中间就会产生交叉）。然后我立刻去考虑第二块4 \* 4\* 1的板子的放置方法。
当然，最容易想到的就是直接把它架在前一块底板的前侧。

这时候的第一层如图。

---------------

| 1 | 1 | 1 | 1 |  |

| 1 | 1 | 1 | 1 |  |

| 1 | 1 | 1 | 1 |  |

| 1 | 1 | 1 | 1 |  |

| 2 | 2 | 2 | 2 |  |

---------------

然后便能注意到左边有五个空格，你要放进去一些东西，但是你注意到五是一个奇数，然后你就会突然发现，

发现，

发现tnnd只有1 \* 1 \* 3的短条，它在一个面上的投影的格子数量是一个奇数！！！

事实上这隐含着一个很有意思的事情，就是三个1 \* 1 \* 3的短条必须两两垂直放置且投影下来应该是一个形如1-1-3或者1-3-1这样的顺序，或者简单来说就是如果去截出五个截面，应该有3个连着的截面上都只有一个方块属于一个1 \* 1 \* 3的短条，另两个截面上有三个连着的方块属于一个1 \* 1 \* 3的短条。

于是，你便可以去尝试放置一下。

---------------

| 1 | 1 | 1 | 1 | 3 |

| 1 | 1 | 1 | 1 | 3 |

| 1 | 1 | 1 | 1 | 3 |

| 1 | 1 | 1 | 1 | 4 |

| 2 | 2 | 2 | 2 | 4 |

---------------

或者

---------------

| 1 | 1 | 1 | 1 | 3 |

| 1 | 1 | 1 | 1 | 4 |

| 1 | 1 | 1 | 1 | 4 |

| 1 | 1 | 1 | 1 | 4 |

| 2 | 2 | 2 | 2 | 4 |

---------------

其中3都对应于一个1 \* 1 \* 3的短条。

然后到第二层我们希望去放置形如2 \* 2 \* 2与2 \* 2 \* 3的砖块。因为它们分别有两块和三块，我们猜测可能接下来上面四层的大部分空间都被它们挤占，然后我们用剩下来的一些砖块去填充它们的缝隙。

但是读者也许能注意到，4 \* 4 \* 1的前侧大板子能延伸到顶端，但顶端处如图所示连在一起的四个格子的下面刚好就是大板子，所以为了填充这个缝隙，我们只能使用厚度为1的物体比如1 \* 2 \* 2的小方片与1 \* 2 \* 4的长板，或者1 \* 1 \* 3的短条。

---------------

第五层

|   |   |   |   |   |

|   |   |   |   |   |

|   |   |   |   |   |

|   |   |   |   |   |

| * | * | * | * |   |

---------------

以上基本就是我手工放置中注意到的一些基本问题。当然，即便你注意到了这些，你还会经历许多失败，这些经验，实际上也是从失败中得到的。

我们看几个失败的例子。

## 如何手工找出157的解？ ##

---------------

第一层

| 1 | 1 | 1 | 1 | 3 |

| 1 | 1 | 1 | 1 | 4 |

| 1 | 1 | 1 | 1 | 4 |

| 1 | 1 | 1 | 1 | 4 |

| 2 | 2 | 2 | 2 | 4 |

第二层

| 5 | 5 | 6 | 6 | 3 |

| 7 | 7 | 7 | 7 | 4 |



---------------
（未更完）

